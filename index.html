<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Engine</title>
    <style>
        :root {
            --bd-dark: #0f0c29;
            --bg-gradient: linear-gradient(0deg, #ffb3ff, #0091ff);
            --neon-purple: #9900ff; 
            --text-main: #ffffff;
            --neon-pink: #ff99d6;
            --cotton-candy: #ffb3ff;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--bg-gradient);
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            background-attachment: fixed;
        }

        /* LIQUID GLASS CARD STYLE */
        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            border-left: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            border-radius: 20px;
        }

        /* HEADER */
        header {
            padding: 40px 20px;
            text-align: center;
        }

        h1 {
            font-size: 3.5rem;
            text-transform: uppercase;
            letter-spacing: 5px;
            background: linear-gradient(90deg, var(--neon-pink), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.3);
        }

        .metitle {
            cursor: pointer;
        }
        
        /* SEARCH BAR */
        .search-wrapper {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }

        #searchInput {
            width: 100%;
            padding: 18px 30px;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.2);
            color: white;
            font-size: 1.1rem;
            outline: none;
            backdrop-filter: blur(10px);
            transition: 0.4s;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.2);
        }

        #searchInput:focus {
            box-shadow: 0 0 20px var(--neon-blue), inset 0 0 10px rgba(0,0,0,0.5);
            border-color: var(--neon-blue);
        }

        /* GRID LAYOUT */
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            transition: opacity 0.5s ease;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 30px;
            padding: 20px 0;
        }

        /* GAME CARDS */
        .game-card {
            display: flex;
            flex-direction: column;
            overflow: hidden;
            text-decoration: none;
            color: white;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            cursor: pointer;
            height: 340px;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border-color: rgba(255,255,255,0.4);
        }

        .card-img-container {
            width: 100%;
            height: 220px;
            overflow: hidden;
            position: relative;
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s;
        }

        .game-card:hover .card-img {
            transform: scale(1.15);
        }

        .card-info {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            background: linear-gradient(to top, rgba(0,0,0,0.6), transparent);
        }

        .game-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .game-genre {
            font-size: 0.8rem;
            color: var(--neon-blue);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
        }
        
        /* Different color for movies */
        .movie-genre {
            color: var(--neon-purple);
        }

        /* FULL SCREEN GAME OVERLAY */
        #game-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            z-index: 9999;
            display: none;
            flex-direction: column;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* ----------------------------------------------------
           EXPANDING LIQUID CIRCLE HOME BUTTON
           ---------------------------------------------------- */
        #home-btn {
            position: absolute;
            top: 25px;
            left: 50%;
            transform: translateX(-50%);
            width: 55px; 
            height: 55px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            background: rgba(0, 0, 0, 0.4); 
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            cursor: pointer;
            z-index: 10000;
            overflow: hidden;
            transition: width 0.4s cubic-bezier(0.4, 0.0, 0.2, 1), box-shadow 0.3s;
            padding: 0;
        }

        .home-icon {
            width: 55px; 
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }

        .home-text {
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            white-space: nowrap;
            opacity: 0;
            transform: translateX(10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            font-size: 1rem;
            padding-right: 25px;
        }

        #home-btn:hover {
            width: 160px;
            box-shadow: 0 0 25px var(--neon-blue), inset 0 0 10px rgba(255,255,255,0.1);
            border-color: var(--neon-blue);
        }

        #home-btn:hover .home-text {
            opacity: 1;
            transform: translateX(0);
        }

        #home-btn:hover .home-icon {
            color: var(--neon-blue);
        }

        .section-header {
            margin: 50px 0 20px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
            color: rgba(255,255,255,0.7);
            font-size: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* FAVORITES BUTTON */
        .favorite-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .favorite-btn:hover {
            background: rgba(255, 155, 214, 0.3);
            border-color: rgba(255, 155, 214, 0.5);
            transform: scale(1.1);
        }

        .favorite-btn.favorited {
            background: rgba(255, 155, 214, 0.6);
            border-color: rgba(255, 155, 214, 0.8);
            box-shadow: 0 0 15px rgba(255, 155, 214, 0.5);
        }

        .game-card {
            position: relative;
        }

        /* FILTER CONTROLS */
        .filter-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-left {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-right {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: rgba(255, 155, 214, 0.2);
            border: 1px solid rgba(255, 155, 214, 0.5);
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filter-btn:hover {
            background: rgba(255, 155, 214, 0.4);
            box-shadow: 0 0 15px rgba(255, 155, 214, 0.3);
        }

        .filter-btn.active {
            background: rgba(255, 155, 214, 0.8);
            border-color: rgba(255, 155, 214, 1);
            box-shadow: 0 0 20px rgba(255, 155, 214, 0.6);
        }

        .favorites-count {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .recently-played-count {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* GENRE FILTER */
        .genre-filter-section {
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .genre-filter-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            display: block;
        }

        .genre-filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .genre-tag {
            background: rgba(100, 200, 255, 0.2);
            border: 1px solid rgba(100, 200, 255, 0.4);
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .genre-tag:hover {
            background: rgba(100, 200, 255, 0.35);
            border-color: rgba(100, 200, 255, 0.6);
            transform: translateY(-2px);
        }

        .genre-tag.active {
            background: rgba(100, 200, 255, 0.7);
            border-color: rgba(100, 200, 255, 1);
            box-shadow: 0 0 15px rgba(100, 200, 255, 0.4);
            color: white;
        }

        .genre-tag.all-genres {
            background: rgba(150, 150, 150, 0.3);
            border-color: rgba(150, 150, 150, 0.5);
        }

        .genre-tag.all-genres.active {
            background: rgba(150, 150, 150, 0.6);
            border-color: rgba(150, 150, 150, 1);
            box-shadow: 0 0 15px rgba(150, 150, 150, 0.4);
        }

        /* ADMIN PANEL STYLES */
        #admin-access-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 100, 100, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 100, 100, 0.5);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            z-index: 1000;
            transition: all 0.3s ease;
            color: #ff6464;
        }

        #admin-access-btn:hover {
            background: rgba(255, 100, 100, 0.5);
            border-color: rgba(255, 100, 100, 0.8);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 100, 100, 0.4);
        }

        /* SETTINGS MENU */
        .settings-menu {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 350px;
            background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 100, 100, 0.3);
            border-radius: 15px;
            padding: 20px;
            display: none;
            z-index: 999;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            max-height: 80vh;
            overflow-y: auto;
        }

        .settings-menu.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .settings-header {
            color: #ff6464;
            font-size: 1.4rem;
            margin-bottom: 20px;
            font-weight: bold;
            text-align: center;
        }

        .settings-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 100, 100, 0.2);
        }

        .settings-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .settings-section h4 {
            color: #ffb3ff;
            font-size: 1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .settings-input {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(255, 100, 100, 0.3);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: #fff;
            font-size: 0.9rem;
            margin-bottom: 10px;
            transition: all 0.3s;
        }

        .settings-input:focus {
            outline: none;
            border-color: rgba(255, 100, 100, 0.8);
            box-shadow: 0 0 10px rgba(255, 100, 100, 0.3);
        }

        .settings-label {
            display: block;
            color: #ddd;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .settings-btn {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s;
            margin-top: 5px;
        }

        .settings-btn.primary {
            background: linear-gradient(135deg, #ff6464 0%, #ff9696 100%);
            color: white;
        }

        .settings-btn.primary:hover {
            box-shadow: 0 0 15px rgba(255, 100, 100, 0.5);
            transform: translateY(-2px);
        }

        .settings-btn.secondary {
            background: rgba(100, 100, 100, 0.3);
            color: #aaa;
            border: 1px solid rgba(100, 100, 100, 0.5);
        }

        .settings-btn.secondary:hover {
            background: rgba(100, 100, 100, 0.5);
            color: #fff;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .file-input-label {
            display: block;
            padding: 10px;
            background: rgba(100, 150, 255, 0.3);
            color: #9dc3ff;
            border: 1px solid rgba(100, 150, 255, 0.5);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .file-input-label:hover {
            background: rgba(100, 150, 255, 0.5);
            color: #fff;
        }

        .settings-divider {
            color: #666;
            text-align: center;
            margin: 10px 0;
            font-size: 0.8rem;
        }

        /* BLANK PAGE LAUNCHER MODAL */
        .blank-page-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 5000;
        }

        .blank-page-modal.active {
            display: flex;
        }

        .blank-page-content {
            background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(100, 150, 255, 0.3);
            border-radius: 15px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
        }

        .blank-page-header {
            color: #667eea;
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-align: center;
            font-weight: bold;
        }

        .blank-page-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(100, 150, 255, 0.2);
        }

        .blank-page-tab {
            flex: 1;
            padding: 12px;
            background: rgba(100, 150, 255, 0.1);
            border: 1px solid rgba(100, 150, 255, 0.3);
            border-radius: 8px 8px 0 0;
            color: #9dc3ff;
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s;
        }

        .blank-page-tab.active {
            background: rgba(100, 150, 255, 0.3);
            color: #fff;
            border-color: rgba(100, 150, 255, 0.8);
        }

        .blank-page-tab-content {
            display: none;
        }

        .blank-page-tab-content.active {
            display: block;
        }

        .blank-page-textarea {
            width: 100%;
            height: 250px;
            padding: 12px 15px;
            border: 1px solid rgba(100, 150, 255, 0.3);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            resize: vertical;
            transition: all 0.3s;
        }

        .blank-page-textarea:focus {
            outline: none;
            border-color: rgba(100, 150, 255, 0.8);
            box-shadow: 0 0 10px rgba(100, 150, 255, 0.3);
        }

        .blank-page-button-group {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        .blank-page-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .blank-page-btn.launch {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .blank-page-btn.launch:hover {
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
            transform: translateY(-2px);
        }

        .blank-page-btn.close {
            background: rgba(100, 100, 100, 0.3);
            color: #aaa;
            border: 1px solid rgba(100, 100, 100, 0.5);
        }

        .blank-page-btn.close:hover {
            background: rgba(100, 100, 100, 0.5);
            color: #fff;
        }

        .admin-code-modal, .admin-panel-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 5000;
        }

        .admin-code-modal.active, .admin-panel-modal.active {
            display: flex;
        }

        .admin-code-content, .admin-panel-content {
            background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 100, 100, 0.3);
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
        }

        .admin-panel-content {
            max-width: 900px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .admin-header {
            color: #ff6464;
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-align: center;
            font-weight: bold;
        }

        .admin-input-group {
            margin-bottom: 20px;
        }

        .admin-input-group label {
            display: block;
            color: #ffb3ff;
            font-size: 0.9rem;
            margin-bottom: 8px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .admin-input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(255, 100, 100, 0.3);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .admin-input-group input:focus {
            outline: none;
            border-color: rgba(255, 100, 100, 0.8);
            box-shadow: 0 0 10px rgba(255, 100, 100, 0.3);
        }

        .admin-input-group input[type="password"] {
            letter-spacing: 3px;
            font-size: 1.5rem;
            text-align: center;
        }

        .admin-button-group {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        .admin-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .admin-btn.confirm {
            background: linear-gradient(135deg, #ff6464 0%, #ff9696 100%);
            color: white;
        }

        .admin-btn.confirm:hover {
            box-shadow: 0 0 20px rgba(255, 100, 100, 0.5);
            transform: translateY(-2px);
        }

        .admin-btn.cancel {
            background: rgba(100, 100, 100, 0.3);
            color: #aaa;
            border: 1px solid rgba(100, 100, 100, 0.5);
        }

        .admin-btn.cancel:hover {
            background: rgba(100, 100, 100, 0.5);
            color: #fff;
        }

        .admin-section {
            margin-bottom: 30px;
            background: rgba(255, 100, 100, 0.05);
            border: 1px solid rgba(255, 100, 100, 0.2);
            border-radius: 10px;
            padding: 20px;
        }

        .admin-section h3 {
            color: #ff6464;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 100, 100, 0.2);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.2);
        }

        .admin-list-item {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 100, 100, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #ddd;
        }

        .admin-list-item:last-child {
            border-bottom: none;
        }

        .admin-list-item-info {
            flex: 1;
            font-size: 0.85rem;
        }

        .admin-list-item-value {
            color: #ffb3ff;
            font-family: monospace;
            font-size: 0.75rem;
            word-break: break-all;
        }

        .admin-list-item-reason {
            color: #999;
            font-size: 0.75rem;
            margin-top: 4px;
        }

        .admin-action-btn {
            background: rgba(255, 100, 100, 0.4);
            color: #ff6464;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .admin-action-btn:hover {
            background: rgba(255, 100, 100, 0.7);
            color: #fff;
        }

        .admin-empty-state {
            padding: 20px;
            text-align: center;
            color: #999;
            font-size: 0.95rem;
        }

        .admin-error {
            background: rgba(255, 100, 100, 0.2);
            color: #ff6464;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            display: none;
        }

        .admin-error.show {
            display: block;
        }

        .admin-success {
            background: rgba(100, 255, 100, 0.2);
            color: #64ff64;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            display: none;
        }

        .admin-success.show {
            display: block;
        }

    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&amp;display=swap">
<link rel="icon" type="image/png" href="/images/favicon.png">
</head>
<body>

    <!-- ADMIN ACCESS BUTTON -->
    <button id="admin-access-btn" onclick="toggleSettingsMenu()" title="Settings">‚öôÔ∏è</button>

    <!-- SETTINGS MENU -->
    <div class="settings-menu" id="settingsMenu">
        <div class="settings-header">‚öôÔ∏è Settings</div>
        
        <!-- TAB CLOAK SECTION -->
        <div class="settings-section">
            <h4>üé≠ Tab Cloak</h4>
            
            <label class="settings-label">Page Title</label>
            <input type="text" class="settings-input" id="settingsPageTitle" placeholder="Enter page title...">
            
            <label class="settings-label">Favicon URL</label>
            <input type="text" class="settings-input" id="settingsFaviconUrl" placeholder="https://example.com/favicon.ico">
            
            <div class="settings-divider">OR</div>
            
            <div class="file-input-wrapper">
                <input type="file" id="settingsFaviconFile" accept="image/*">
                <label for="settingsFaviconFile" class="file-input-label">üìÅ Upload Favicon Image</label>
            </div>
            
            <button class="settings-btn primary" onclick="applyCloakSettings()">Apply Tab Cloak</button>
            <button class="settings-btn secondary" onclick="resetCloakSettings()">Reset to Default</button>
        </div>
        
        <!-- BLANK PAGE LAUNCHER SECTION -->
        <div class="settings-section">
            <h4>‚¨ö Blank Page Launcher</h4>
            <button class="settings-btn primary" onclick="launchBlankPage()">Open Launcher</button>
        </div>

        <!-- SAFETY KEY SECTION -->
        <div class="settings-section">
            <h4>üõ°Ô∏è Safety Key</h4>

            <label class="settings-label">Button Name</label>
            <input type="text" class="settings-input" id="safetyKeyLabel" placeholder="Safety Key">

            <label class="settings-label">Safety URL</label>
            <input type="text" class="settings-input" id="safetyKeyUrl" placeholder="https://classroom.google.com/">

            <label class="settings-label">Keyboard Shortcut</label>
            <input type="text" class="settings-input" id="safetyKeyShortcut" placeholder="Press a key..." readonly>
            <div style="color: #999; font-size: 0.75rem; margin-top: -4px; margin-bottom: 10px;">Click the box, then press a key</div>

            <button class="settings-btn primary" onclick="saveSafetyKeySettings()">Save Safety Key</button>
            <button class="settings-btn secondary" id="safetyKeyOpenBtn" onclick="openSafetyKey()">Safety Key</button>
        </div>
        
        <!-- ADMIN ACCESS SECTION -->
        <div class="settings-section">
            <h4>üîê Admin Panel</h4>
            <button class="settings-btn primary" onclick="openCodeModal()">Open Admin Panel</button>
        </div>
    </div>

    <!-- ADMIN CODE ENTRY MODAL -->
    <div class="admin-code-modal" id="codeModal">
        <div class="admin-code-content">
            <div class="admin-header">üîê Admin Access</div>
            <div class="admin-error" id="codeError"></div>
            <div class="admin-input-group">
                <label>Enter Access Code</label>
                <input type="password" id="codeInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
            </div>
            <div class="admin-button-group">
                <button class="admin-btn confirm" onclick="verifyCode()">Enter</button>
                <button class="admin-btn cancel" onclick="closeCodeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ADMIN PANEL MODAL -->
    <div class="admin-panel-modal" id="adminPanel">
        <div class="admin-panel-content">
            <div class="admin-header">‚öôÔ∏è Admin Control Panel</div>
            <div class="admin-error" id="adminError"></div>
            <div class="admin-success" id="adminSuccess"></div>

            <!-- IP BANS SECTION -->
            <div class="admin-section">
                <h3>üö´ IP Bans</h3>
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                    <input type="text" id="banIPInput" placeholder="Enter IP address" style="flex: 1; padding: 10px; border: 1px solid rgba(255, 100, 100, 0.3); border-radius: 6px; background: rgba(0, 0, 0, 0.3); color: #fff;">
                    <input type="text" id="banIPReason" placeholder="Reason (optional)" style="flex: 1; padding: 10px; border: 1px solid rgba(255, 100, 100, 0.3); border-radius: 6px; background: rgba(0, 0, 0, 0.3); color: #fff;">
                    <button class="admin-btn confirm" onclick="addIPBan()" style="flex: 0.2;">Ban</button>
                </div>
                <div class="admin-list" id="ipBanList"></div>
            </div>

            <!-- HARDWARE BANS SECTION -->
            <div class="admin-section">
                <h3>üõ°Ô∏è Hardware Bans</h3>
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                    <input type="text" id="banDeviceInput" placeholder="Enter device fingerprint (or paste here)" style="flex: 1; padding: 10px; border: 1px solid rgba(255, 100, 100, 0.3); border-radius: 6px; background: rgba(0, 0, 0, 0.3); color: #fff; font-size: 0.75rem;">
                    <input type="text" id="banDeviceReason" placeholder="Reason (optional)" style="flex: 1; padding: 10px; border: 1px solid rgba(255, 100, 100, 0.3); border-radius: 6px; background: rgba(0, 0, 0, 0.3); color: #fff;">
                    <button class="admin-btn confirm" onclick="addHardwareBan()" style="flex: 0.2;">Ban</button>
                </div>
                <div class="admin-list" id="hardwareBanList"></div>
            </div>

            <!-- SITE VISITORS SECTION -->
            <div class="admin-section">
                <h3>üë• Anonymous Site Visitors</h3>
                <div style="margin-bottom: 15px;">
                    <button class="admin-btn confirm" onclick="loadSiteVisitors()" style="width: 150px;">Refresh List</button>
                </div>
                <div class="admin-list" id="siteVisitorsList" style="max-height: 400px;"></div>
            </div>

            <button class="admin-btn cancel" onclick="closeAdminPanel()" style="width: 100%; margin-top: 20px;">Close Panel</button>
        </div>
    </div>

    <!-- BLANK PAGE LAUNCHER MODAL -->
    <div class="blank-page-modal" id="blankPageModal">
        <div class="blank-page-content">
            <div class="blank-page-header">‚¨ö Blank Page Launcher</div>
            
            <div class="blank-page-tabs">
                <div class="blank-page-tab active" data-tab="url" onclick="switchBlankPageTab('url')">üîó URL</div>
                <div class="blank-page-tab" data-tab="html" onclick="switchBlankPageTab('html')">üíª HTML Code</div>
            </div>

            <!-- URL TAB -->
            <div class="blank-page-tab-content active" id="urlTab">
                <input type="text" class="settings-input" id="blankPageUrl" placeholder="https://example.com" style="width: 100%;">
                <div style="color: #999; font-size: 0.8rem; margin-top: 8px;">Enter any URL to open in a blank page</div>
            </div>

            <!-- HTML CODE TAB -->
            <div class="blank-page-tab-content" id="htmlTab">
                <textarea class="blank-page-textarea" id="blankPageHtml" placeholder="&lt;!DOCTYPE html&gt;&#10;&lt;html&gt;&#10;&lt;head&gt;&#10;    &lt;title&gt;My Page&lt;/title&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;h1&gt;Hello World!&lt;/h1&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;"></textarea>
                <div style="color: #999; font-size: 0.8rem; margin-top: 8px;">Enter HTML code to run in a blank page</div>
            </div>

            <div class="blank-page-button-group">
                <button class="blank-page-btn launch" onclick="launchBlankPageWithContent()">üöÄ Launch</button>
                <button class="blank-page-btn close" onclick="closeBlankPageModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- MAIN DASHBOARD -->
    <div id="main-dashboard" class="dashboard-container">
        
        <header>
            <h1 onclick="document.location='/index.html'" class="metitle">Math Engine</h1>
            <div class="search-wrapper glass-panel">
                <input type="text" id="searchInput" onkeyup="filterGames()" placeholder="Search library (Games, Movies, Apps)...">
            </div>
<br>
            <!-- GENRE FILTER SECTION -->
            <div class="genre-filter-section">
                <label class="genre-filter-label">Filter by Genre:</label>
                <div class="genre-filter-buttons" id="genreFilterButtons">
                    <!-- Dynamically populated by JavaScript -->
                </div>
            </div>

            <div class="filter-controls">
                <div class="filter-left">
                    <button class="filter-btn" onclick="toggleShowOnlyFavorites()" id="favoritesFilterBtn">
                        ‚≠ê Show Favorites
                    </button>
                    <span class="favorites-count">Favorites: <span id="favoriteCount">0</span></span>
                </div>
                <div class="filter-right">
                    <button class="filter-btn" onclick="toggleShowOnlyRecentlyPlayed()" id="recentlyPlayedFilterBtn">
                        üïê Recently Played
                    </button>
                    <span class="recently-played-count">Recent: <span id="recentCount">0</span></span>
                </div>
            </div>
        </header>

        <!-- GAMES SECTION -->
        <div class="section-header">Game Library</div>
        <div class="grid-container">

            <!-- Subways Surfers -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Subway Surfers.html')">
                <div class="card-img-container">
                    <img src="./images/Subway Surfers.png" alt="Subway Surfers" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Subway Surfers</div>
                    <div class="game-genre">Endless Runner</div>
                </div>
            </div>

            <!-- BitLife -->
            <div class="game-card glass-panel" onclick="openGame('./Games/BitLife.html')">
                <div class="card-img-container">
                    <img src="./images/Bitlife.png" alt="BitLife" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">BitLife</div>
                    <div class="game-genre">Simulation</div>
                </div>
            </div>

            <!-- Cookie Clicker -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Cookie Clicker.html')">
                <div class="card-img-container">
                    <img src="./images/Cookie Clicker.png" alt="Cookie Clicker" class="card-img" style="object-fit: contain; background:#000;">
                </div>
                <div class="card-info">
                    <div class="game-title">Cookie Clicker</div>
                    <div class="game-genre">Simulation</div>
                </div>
            </div>

            <!-- Slope -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Slope.html')">
                <div class="card-img-container">
                    <img src="./images/Slope.png" alt="Slope" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Slope</div>
                    <div class="game-genre">Endless Runner</div>
                </div>
            </div>

            <!-- Tag -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Tag.html')">
                <div class="card-img-container">
                    <img src="./images/Tag.png" alt="Tag" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Tag</div>
                    <div class="game-genre">Multiplayer</div>
                </div>
            </div>

            <!-- Google Snake -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Google Snake')">
                <div class="card-img-container">
                    <img src="./images/Google Snake.png" alt="Google Snake" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Google Snake</div>
                    <div class="game-genre">Arcade</div>
                </div>
            </div>

            <!-- Google Dino -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Google Dino.html')">
                <div class="card-img-container">
                    <img src="./images/Google Dino.png" alt="Google Dino" class="card-img" style="object-fit: contain; background: #fff;">
                </div>
                <div class="card-info">
                    <div class="game-title">Dino Game</div>
                    <div class="game-genre">Arcade</div>
                </div>
            </div>

            <!-- Stickman Hook -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Stickman Hook.html')">
                <div class="card-img-container">
                    <img src="./images/Stickman Hook.png" alt="Stickman Hook" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Stickman Hook</div>
                    <div class="game-genre">Casual</div>
                </div>
            </div>

            <!-- Flappy Bird -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Flappy Bird.html')">
                <div class="card-img-container">
                    <img src="./images/Flappy Bird.png" alt="Flappy Bird" class="card-img" style="object-fit: contain; background:#70c5ce;">
                </div>
                <div class="card-info">
                    <div class="game-title">Flappy Bird</div>
                    <div class="game-genre">Arcade</div>
                </div>
            </div>

            <!-- Crossy Road -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Crossy Road.html')">
                <div class="card-img-container">
                    <img src="./images/Crossy Road.png" alt="Crossy Road" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Crossy Road</div>
                    <div class="game-genre">Arcade</div>
                </div>
            </div>

            <!-- Drift Boss -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Drift Boss.html')">
                <div class="card-img-container">
                    <img src="./images/Drift Boss.png" alt="Drift Boss" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Drift Boss</div>
                    <div class="game-genre">Driving</div>
                </div>
            </div>

                        <!-- Wordle -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Wordle.html')">
                <div class="card-img-container">
                    <img src="./images/Wordle.png" alt="Wordle" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Wordle</div>
                    <div class="game-genre">Puzzle</div>
                </div>
            </div>

            <!-- Soccer Random -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Soccer Random.html')">
                <div class="card-img-container">
                    <img src="./images/Soccer Random.png" alt="Soccer Random" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Soccer Random</div>
                    <div class="game-genre">Sports</div>
                </div>
            </div>

            <!-- Drive Mad -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Drive Mad.html')">
                <div class="card-img-container">
                    <img src="./images/Drive Mad.jpg" alt="Drive Mad" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Drive Mad</div>
                    <div class="game-genre">Driving</div>
                </div>
            </div>

            <!-- Little Alchemy 2 -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Little Alchemy 2.html')">
                <div class="card-img-container">
                    <img src="./images/Little Alchemy 2.png" alt="Little Alchemy 2" class="card-img" style="object-fit:contain; background:#f4f1e5;">
                </div>
                <div class="card-info">
                    <div class="game-title">Little Alchemy 2</div>
                    <div class="game-genre">Puzzle</div>
                </div>
            </div>

            <!-- Angry Birds -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Angry Birds.html')">
                <div class="card-img-container">
                    <img src="./images/Angry Birds.png" alt="Angry Birds" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Angry Birds</div>
                    <div class="game-genre">Strategy</div>
                </div>
            </div>

            <!-- Paper.io -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Paperio.html')">
                <div class="card-img-container">
                    <img src="./images/Paper.Io.png" alt="Paper.io" class="card-img" style="background: url('https://img.poki.com/cdn-cgi/image/quality=78,width=600,height=600,fit=cover,f=auto/86c62c2f423377756770258055644783.png'); background-size:cover;">
                </div>
                <div class="card-info">
                    <div class="game-title">Paper.io</div>
                    <div class="game-genre">Multiplayer</div>
                </div>
            </div>

            <!-- Cut The Rope -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Cut The Rope.html')">
                <div class="card-img-container">
                    <img src="./images/Cut The Rope.png" alt="Cut The Rope" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Cut The Rope</div>
                    <div class="game-genre">Strategy</div>
                </div>
            </div>

            <!-- Chess -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Chess.html')">
                <div class="card-img-container">
                    <img src="./images/Chess.png" alt="Chess" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Chess</div>
                    <div class="game-genre">Strategy</div>
                </div>
            </div>

            <!-- MotoX3M3 -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Moto X3M3.html')">
                <div class="card-img-container">
                    <img src="./images/Moto X3M 3.png" alt="Moto X3M" class="card-img" style="background: url('https://img.poki.com/cdn-cgi/image/quality=78,width=600,height=600,fit=cover,f=auto/b00e34c0347392658742845705335552.png'); background-size:cover;">
                </div>
                <div class="card-info">
                    <div class="game-title">Moto X3M 3</div>
                    <div class="game-genre">Driving</div>
                </div>
            </div>

            <!-- Swap Master -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Swap Master/index.html')">
                <div class="card-img-container">
                    <img src="./images/Swap.png" alt="Swap Master" class="card-img" style="background: #222; display:flex; align-items:center; justify-content:center; color:white; font-size:3rem;">
                </div>
                <div class="card-info">
                    <div class="game-title">Swap Master</div>
                    <div class="game-genre">Arcade</div>
                </div>
            </div>

            <!-- 1v1 LOL -->
            <div class="game-card glass-panel" onclick="openGame('./Games/1V1 LOL.html')">
                <div class="card-img-container">
                    <img src="./images/1V1 LOL.png" alt="1v1 LOL" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">1v1.LOL</div>
                    <div class="game-genre">Action</div>
                </div>
            </div>

            <!-- Basket Random -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Basket Random.html')">
                <div class="card-img-container">
                    <img src="./images/Basket Random.png" alt="Basket Random" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Basket Random</div>
                    <div class="game-genre">Sports</div>
                </div>
            </div>

            <!-- Cluster Truck -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Cluster Truck.html')">
                <div class="card-img-container">
                    <img src="./images/Cluster Truck.png" alt="Cluster Truck" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Cluster Truck</div>
                    <div class="game-genre">Action</div>
                </div>
            </div>

            <!-- Fortzone -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Fortzone.html')">
                <div class="card-img-container">
                    <img src="./images/Fortzone.png" alt="Fortzone" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Fortzone</div>
                    <div class="game-genre">Action</div>
                </div>
            </div>

            <!-- Geometry Dash -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Geometry Dash Lite.html')">
                <div class="card-img-container">
                    <img src="./images/Geometry Dash Lite.png" alt="Geometry Dash" class="card-img" style="object-fit: contain; padding: 20px; background: #000;">
                </div>
                <div class="card-info">
                    <div class="game-title">Geometry Dash</div>
                    <div class="game-genre">Arcade</div>
                </div>
            </div>

            <!-- Minecraft -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Minecraft.html')">
                <div class="card-img-container">
                    <img src="./images/Minecraft.png" alt="Minecraft" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Minecraft</div>
                    <div class="game-genre">Adventure</div>
                </div>
            </div>

            <!-- Retro Bowl -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Retro Bowl.html')">
                <div class="card-img-container">
                    <img src="./images/Retro Bowl.png" alt="Retro Bowl" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Retro Bowl</div>
                    <div class="game-genre">Sports</div>
                </div>
            </div>

            <!-- Run 3 -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Run 3.html')">
                <div class="card-img-container">
                    <img src="./images/Run 3.png" alt="Run 3" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Run 3</div>
                    <div class="game-genre">Endless Runner</div>
                </div>
            </div>

            <!-- Snow Rider 3D -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Snow Rider 3D.html')">
                <div class="card-img-container">
                    <img src="./images/Snow Rider 3D.png" alt="Snow Rider" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Snow Rider 3D</div>
                    <div class="game-genre">Endless Runner</div>
                </div>
            </div>

            <!-- Wheelie Life -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Wheelie Life.html')">
                <div class="card-img-container">
                    <img src="./images/Wheelie Life.png" alt="Wheelie Life" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Wheelie Life</div>
                    <div class="game-genre">Simulation</div>
                </div>
            </div>

                        <!-- Russian Roulette -->
            <div class="game-card glass-panel" onclick="openGame('./Games/Russian Roulette.html')">
                <div class="card-img-container">
                    <img src="./images/Russian Roulette.png" alt="Russian Roulette" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Russian Roulette</div>
                    <div class="game-genre">Multiplayer</div>
                </div>
            </div>

        </div>

        <div class="section-header">Apps &amp; Utilities</div>
        <div class="grid-container">
            
            <!-- Chat Room -->
            <div class="game-card glass-panel" onclick="openGame('Others/Chat Room.html')">
                <div class="card-img-container" style="display:flex; align-items:center; justify-content:center;">
                    <img src="./images/Chat Room.png" alt="Chat" style="width: 50%; height: 50%; filter: drop-shadow(0 0 10px rgba(0,0,0,0.5));">
                </div>
                <div class="card-info">
                    <div class="game-title">Chat Room</div>
                    <div class="game-genre">Social</div>
                </div>
            </div>

            <!-- Kahoot Hacks -->
            <div class="game-card glass-panel" onclick="openGame('Kahoot Hacks.html')">
                <div class="card-img-container">
                    <img src="images/Kahoot Hacks.png" alt="Kahoot Hacks" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Kahoot Hacks</div>
                    <div class="game-genre">Tools</div>
                </div>
            </div>

        <!-- VIP -->
            <div class="game-card glass-panel" onclick="openGame('./Others/VIP.html')">
                <div class="card-img-container">
                    <img src="images/VIP.png" alt="VIP" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">VIP</div>
                    <div class="game-genre">Tools</div>
                </div>
            </div>

                    <!-- MESnap -->
            <div class="game-card glass-panel" onclick="openGame('./MESnap.html')">
                <div class="card-img-container">
                    <img src="images/MESnap.png" alt="MESnap" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">MESnap</div>
                    <div class="game-genre">App</div>
                </div>
            </div>
  
        </div>

        <!-- NEW MOVIE SECTION -->
        <div class="section-header">Movies, TV &amp; Collections</div>
        <div class="grid-container">

            <!-- Sonic -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1DN2ZHPmwQYAGwH351RYGbuwapqohGgbV', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/90/Adventures_of_Sonic_the_Hedgehog.jpg" alt="Sonic" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Adv. of Sonic the Hedgehog</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- SpongeBob -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1cOFMumtLFERJqS6Y5oTyBb6ZRXNHCgZF', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/2/24/SpongeBob_SquarePants_logo.svg" alt="SpongeBob" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">SpongeBob SquarePants</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Gumball S1 -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1OXgcS7q8GexG3oOHxSMDuNYfUo-BMVxq', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/7/76/The_Amazing_World_of_Gumball_logo.svg" alt="Gumball" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">Gumball (Season 1)</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Weird World Gumball -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1JjIbHHic30rIG8SBtASYAKTkBnysshAL', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/7/76/The_Amazing_World_of_Gumball_logo.svg" alt="Gumball" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">Weird World of Gumball</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Regular Show -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1tedaT2-lJvdIToqgsBx7lDo4tJl3TY-U', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/6/60/Regular_Show_Title_Card.png" alt="Regular Show" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Regular Show</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Squid Game -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1Zs2H3Nxl-yQHm21RJNbh2bIAesJ5ouY9', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/d/dd/Squid_Game_Logo.svg" alt="Squid Game" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">Squid Game</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Simpsons -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1ZtFBjPAE-qVzdHJ3EKnvlBFNhux5m3Hi', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/9/98/The_Simpsons_yellow_logo.svg" alt="Simpsons" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">The Simpsons</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Live TV -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1LRAuy2ORadxBAqHT5VRT5RBKBKkM6fCF', '_blank')">
                <div class="card-img-container">
                    <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#222; font-size:3rem;">üì∫</div>
                </div>
                <div class="card-info">
                    <div class="game-title">Live TV / Prerecorded</div>
                    <div class="game-genre movie-genre">Collection</div>
                </div>
            </div>

            <!-- Beast Games -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1Q8_n0CTVT3eUg_mZe-10NDYnJl9p-9w7', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b2/MrBeast_Logo.png" alt="Beast" class="card-img" style="object-fit: contain; padding: 20px; background:#fff;">
                </div>
                <div class="card-info">
                    <div class="game-title">Beast Games</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Boondocks -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1ujarzaX_90FGOiRC15OmXOAgwSbdI_kA', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/91/The_Boondocks_TV_title_card.png" alt="Boondocks" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">The Boondocks</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Hey Arnold -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1tvjU4AqKfPOM_wPZA-pJsjYaOKguNaDD', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/e/ed/Hey_Arnold%21_logo.svg" alt="Hey Arnold" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">Hey Arnold</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Big City Greens -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1pwRkHjJJbk8-JRH2Mh8v5ouXdyE7pxfM', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Big_City_Greens_Logo.png" alt="Big City Greens" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">Big City Greens</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Teen Titans -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1xqItOklvgleKL0ly9SNd1mClelBlNgPs', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/3/36/Teen_Titans_Go%21_Title_Card.png" alt="Teen Titans" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Teen Titans GO!</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Gravity Falls -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/0B2lfcnXrxDFsUHl1OHdVc0pnWUU?resourcekey=0-14k0yy6znJA05TWl8GyMHw', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/e/ec/Gravity_Falls_logo.png" alt="Gravity Falls" class="card-img" style="object-fit: contain; padding: 20px;">
                </div>
                <div class="card-info">
                    <div class="game-title">Gravity Falls</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Adventure Time -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1OwoKydzUQUUp6n-Nh7CCAQXGLfchU8Ta', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/3/37/Adventure_Time_-_Title_card.png" alt="Adventure Time" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Adventure Time</div>
                    <div class="game-genre movie-genre">Series</div>
                </div>
            </div>

            <!-- Dragon Ball Z -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1jOWTtXX3VqcJElQqovEvP5QTWCfgXLBS', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/c/c1/Dragon_Ball_Z_Logo_A.png" alt="DBZ" class="card-img" style="object-fit: contain; padding: 20px; background:#fff;">
                </div>
                <div class="card-info">
                    <div class="game-title">Dragon Ball Z</div>
                    <div class="game-genre movie-genre">Anime</div>
                </div>
            </div>

            <!-- Assassination Classroom -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1T-JYKyNVjYjwzEmTDr6kErnlSlnT-I2X', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/6/69/Assassination_Classroom_Volume_1.jpg" alt="Assassination Classroom" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Assassination Classroom</div>
                    <div class="game-genre movie-genre">Anime</div>
                </div>
            </div>

            <!-- Jujutsu Kaisen -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/drive/folders/1eqNcKK02wEdRV7RnfrmDRZf2s2QZHUyj', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/4/46/Jujutsu_kaisen_cover_volume_1_jp.jpg" alt="Jujutsu Kaisen" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Jujutsu Kaisen</div>
                    <div class="game-genre movie-genre">Anime</div>
                </div>
            </div>

            <!-- MOVIE SECTION START -->
            
            <!-- Wimpy Kid Rodrick Rules -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/12wLX2jPldPn8dKW8tfUuz4TzbhOo1ORc/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/7/7e/Diary_of_a_Wimpy_Kid_Rodrick_Rules_Poster.jpg" alt="Wimpy Kid" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Rodrick Rules</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Kung Fu Panda -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/17LAn1tOIbbj0AZl2N2uwGNiMMvydnP9u/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/7/76/Kungfupanda.jpg" alt="Kung Fu Panda" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Kung Fu Panda</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- 65 -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1Mva-frIx-PjwLfoV08BxlwQ44glMzBnZ/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/8/87/65_2023_poster.jpg" alt="65" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">65</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Good Burger -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1vZqAIXXdJqtxt5bFcr821Q8m6B_1GZF_/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/8/8f/Good_Burger_poster.jpg" alt="Good Burger" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Good Burger</div>
                    <div class="game-genre movie-genre">Comedy</div>
                </div>
            </div>

            <!-- Minecraft Movie -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1FHBn4bOQAAK7eDos_yRqYdtKhgm6uEXl/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/6/69/A_Minecraft_Movie_poster.jpg" alt="Minecraft Movie" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">A Minecraft Movie</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Space Jam -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1QK9RHd2T-ijthIL7A6NQvRztPkTx8NtN/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/1/14/Space_jam.jpg" alt="Space Jam" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Space Jam</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Spider Verse -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1Sd1l_LhKRp_2OE5gRJJyPubnZjJccLgQ/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/b/b4/Spider-Man-_Across_the_Spider-Verse_poster.jpg" alt="Spider Verse" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Across The Spider-Verse</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- KPOP Demon Hunters -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1zT4SAUoKx29aoNVS3scuTMvTqyNgMQ7E/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/a/a2/K-Pop_Demon_Hunters_poster.jpg" alt="KPOP" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">KPOP Demon Hunters</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Wicked -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1Afd163ExalSt_zPRCut1_yKU4fSLz1qB/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/5/52/Wicked_film_poster.png" alt="Wicked" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Wicked</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Bee Movie -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1AiuhAubyrKVmqpu3OfM1sonhRJrzw5v6/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/5/5f/Bee_Movie_%282007_animated_feature_film_poster%29.jpg" alt="Bee Movie" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Bee Movie</div>
                    <div class="game-genre movie-genre">Comedy</div>
                </div>
            </div>

            <!-- Barbie -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1K88LvZ6q9KRwsdiVQ72Wrh5DQqWVLkd3/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/0/0b/Barbie_2023_poster.jpg" alt="Barbie" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Barbie</div>
                    <div class="game-genre movie-genre">Comedy</div>
                </div>
            </div>

            <!-- A Bugs Life -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1AIq4OqiMWiY9zZSayF5VID7pfTwSH6BM/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/c/cc/A_Bug%27s_Life_poster.jpg" alt="Bugs Life" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">A Bugs Life</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Toy Story 1 -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1fW6Ov5NIaRh4h78-qBpWeln_Vs9oEXOQ/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/1/13/Toy_Story.jpg" alt="Toy Story" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Toy Story</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Toy Story 3 -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/13msxxmyEco7CRBkO_Ju1SMx5KK4r4Su8/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/6/69/Toy_Story_3_poster.jpg" alt="Toy Story 3" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Toy Story 3</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Toy Story 4 -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1bFUbsQ9VEazeCt5l_VBVDtjCsbJmZ_Vr/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/4/4c/Toy_Story_4_poster.jpg" alt="Toy Story 4" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Toy Story 4</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Zootopia -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1HYeIrbf8A-vfvJsvYP59AQzG9l8nt03h/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/e/ea/Zootopia.jpg" alt="Zootopia" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Zootopia</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- The Incredibles -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1tVsDrCHeADhoZRkQZnXIIj3R5kpB2une/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/e/ec/The_Incredibles.jpg" alt="Incredibles" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">The Incredibles</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- The Incredibles 2 -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1XZ0pSe4bccOpJeF_VkXhkOhxQ3Tzp8RB/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/2/27/The_Incredibles_2.jpg" alt="Incredibles 2" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">The Incredibles 2</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- SAW FRANCHISE -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1Rhz-BomwJLVXvUbUjsZSMt0SjNDJ01PR/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/5/56/Saw_official_poster.jpg" alt="Saw" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Saw I</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

             <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1ispkvENgPzTEuPHcbv9HgduOBt1ycaQ_/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/f/f0/Saw_II_poster.jpg" alt="Saw II" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Saw II</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

             <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1KEsCxCI-Fl-7Cb0kDkpFKy6BjObE78NQ/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/c/c9/Saw_III_poster.jpg" alt="Saw III" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Saw III</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

             <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/123EAq27XH_xJor1kPLcs2UpFnfdVinkc/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/5/5e/Saw_IV_poster.jpg" alt="Saw IV" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Saw IV</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/17QLqfjnyfCdQIpDc5NvsB7r4l8BIDYUV/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/2/29/Saw_VI_poster.jpg" alt="Saw VI" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Saw VI</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1TjXb0ZIUv0JgxcBzAD7W4HFPMfBgHWaK/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/7/77/Jigsaw_%282017_film%29.png" alt="Jigsaw" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Jigsaw</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/10Wn3otVUN00Sfc6sRZSnDFfaYDJ5VTNR/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/4/4b/Saw_X_poster.jpg" alt="Saw X" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Saw X</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

            <!-- Texas Chainsaw -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1DX2PS1WKMKTBCcdwxzbjapo7He1OHTFb/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/4/43/The_Texas_Chainsaw_Massacre_2022_poster.jpg" alt="Chainsaw" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Texas Chainsaw Massacre</div>
                    <div class="game-genre movie-genre">Horror</div>
                </div>
            </div>

            <!-- JAWS -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1ys7CQlyywTD5YlMeCpfp0ThltWcMH99E/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/e/eb/JAWS_Movie_poster.jpg" alt="Jaws" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Jaws</div>
                    <div class="game-genre movie-genre">Thriller</div>
                </div>
            </div>

             <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1gA6fN27Rm6lj2FUUKiGv-sRZkLWmLly7/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/b/b5/Jaws_2.jpg" alt="Jaws 2" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Jaws 2</div>
                    <div class="game-genre movie-genre">Thriller</div>
                </div>
            </div>

            <!-- JOHN WICK -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/11TCtroXQRdFUNbTv7NNkD4hf9E7xO6_w/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/98/John_Wick_TeaserPoster.jpg" alt="John Wick" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">John Wick</div>
                    <div class="game-genre movie-genre">Action</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1OEb1csWFP1nYYXWZ4jylTGFIty6zCHd7/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/3/31/John_Wick_Chapter_Two.png" alt="John Wick 2" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">John Wick 2</div>
                    <div class="game-genre movie-genre">Action</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1kB4qq28Hv-NLflX57GGuiPo0uKp4B5XC/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/94/John_Wick_Chapter_3_Parabellum.png" alt="John Wick 3" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">John Wick 3</div>
                    <div class="game-genre movie-genre">Action</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1Jn_Ti-Btchkg5PcEVuHJ8lsQlqwZBwxs/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/c/c6/John_Wick_Chapter_4.jpg" alt="John Wick 4" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">John Wick 4</div>
                    <div class="game-genre movie-genre">Action</div>
                </div>
            </div>

            <!-- Naked Gun -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1d99PsLSstcm8bo4_qRhSdtjulSTSgl9o/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/6/68/NakedGun5.jpg" alt="Naked Gun" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">The Naked Gun</div>
                    <div class="game-genre movie-genre">Comedy</div>
                </div>
            </div>

            <!-- Top Gun Maverick -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1nmGDHktR96jkaYl2lf-d-XTtNtFh4PTv/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/7/73/Top_Gun_Maverick_poster.jpg" alt="Top Gun" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Top Gun Maverick</div>
                    <div class="game-genre movie-genre">Action</div>
                </div>
            </div>

            <!-- SpongeBob Movies -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/15pAD1QGxR0jFZuO8CAHSUzzp_FEpqvf0/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/90/The_SpongeBob_Movie_Sponge_on_the_Run.jpg" alt="SpongeBob Run" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Sponge On The Run</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/17fAM9sipu3BPElFpqFrG3ukYahbUEZQJ/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/c/ca/Saving_Bikini_Bottom_The_Sandy_Cheeks_Movie.jpg" alt="Sandy Cheeks" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Sandy Cheeks Movie</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1lWqkPZ9BmdZhhRnrBz2WwcnAoL3Bn6WI/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/e/e6/Plankton_the_movie_poster.jpg" alt="Plankton" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Plankton! The Movie</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Turning Red -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1joF2I_zdjepCD9ukmjV672HTICUfp4tO/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/9e/Turning_Red_poster.jpg" alt="Turning Red" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Turning Red</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Rons Gone Wrong -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1nKl-oBgmnWygnF7xm6CfSWikp22ElVZY/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/4/47/Ron%27s_Gone_Wrong_poster.jpg" alt="Rons Gone Wrong" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Ron's Gone Wrong</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Charlie Choc Factory -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1eaQHnnwolzvKHEvs91RO-S2CpNvhmiU5/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/6/66/Charlie_and_the_Chocolate_Factory_img.jpg" alt="Charlie" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Charlie & the Chocolate Factory</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Wild Robot -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1_N9iHDAM3RbU2a0GTfgcNXDGuZDT_yZ-/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/8/8b/The_Wild_Robot_poster.jpg" alt="Wild Robot" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">The Wild Robot</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Shrek -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1ohXNP73ZyD2VISZZ0aV_rL2MSWskf9NX/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/3/30/Shrek_the_Third_%282007_animated_feature_film%29.jpg" alt="Shrek" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Shrek</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Inside Out -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1e0OdhlzTKWie6TDXNDOKjKYXbfYfmz6t/view?t=3777', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/95/Inside_Out_%282015_film%29_poster.jpg" alt="Inside Out" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Inside Out</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Cars -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/106N7zd611ShtPMOx97XwFSxkg8theQLN/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/3/34/Cars_2006.jpg" alt="Cars" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Cars</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1YinG1kmgSqWI5kQwfDsQO6vK1xzM6K7o/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/7/7f/Cars_2_Poster.jpg" alt="Cars 2" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Cars 2</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

             <!-- Woody Woodpecker -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1rbeUdLuf25ywVxfbP42JDQuvFIoHqGkQ/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/0/0c/Woody_Woodpecker_Goes_to_Camp.jpg" alt="Woody" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Woody Woodpecker goes to Camp</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Charlie Brown -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1e2UIrJdsz_0k5tp2v0EnPZiPv2ZQSTzg/view?pli=1', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/2/22/A_Charlie_Brown_Christmas.jpg" alt="Charlie Brown" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Charlie Brown Christmas</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Goofy Movie -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1ify_EMaQW-ZAn2F0STztn2AGU-jE7aHL/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/6/6e/A_goofy_movie_poster.jpg" alt="Goofy Movie" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">A Goofy Movie</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1e4NzmeC84qest_9Wzmtvmi80brGPYnsN/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/a/ad/An_Extremely_Goofy_Movie_poster.jpg" alt="Extremely Goofy" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">An Extremely Goofy Movie</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Alvin -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1uCRRJZj1GAaweX996uHbF2zxPoessmGW/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/2/25/Alvin_and_the_Chipmunks_poster.jpg" alt="Alvin" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Alvin & the Chipmunks</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1LTKy48IbusfXsl5nSNDTd0M3A8B3aPke/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/9/90/Alvin_and_the_Chipmunks_Chipwrecked_poster.jpg" alt="Chipwrecked" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Chipwrecked</div>
                    <div class="game-genre movie-genre">Movie</div>
                </div>
            </div>

            <!-- Marvel -->
            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1ehi9tidOYHb1RMldxtBw6-L3UhyEKVm9/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/0/0d/Avengers_Endgame_poster.jpg" alt="Endgame" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Avengers Endgame</div>
                    <div class="game-genre movie-genre">Marvel</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1oKDbw6zCdSRKRbABn6nKf_4LGsA3ftwL/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/4/4d/Avengers_Infinity_War_poster.jpg" alt="Infinity War" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Avengers Infinity War</div>
                    <div class="game-genre movie-genre">Marvel</div>
                </div>
            </div>

            <div class="game-card glass-panel" onclick="window.open('https://drive.google.com/file/d/1AW3Zm8256tzZ-37lmgYmIGse4knu8IdA/view', '_blank')">
                <div class="card-img-container">
                    <img src="https://upload.wikimedia.org/wikipedia/en/3/36/Ant-Man_and_the_Wasp_Quantumania_poster.jpg" alt="Quantumania" class="card-img">
                </div>
                <div class="card-info">
                    <div class="game-title">Antman Quantumania</div>
                    <div class="game-genre movie-genre">Marvel</div>
                </div>
            </div>

        </div>

    </div><div class="colorExtractorInterface" style="z-index: 2147483647; position: fixed; top: 16px; left: 997px; border: 2px solid rgb(247, 178, 122); border-radius: 10px; display: none;"></div><div id="feedback-banner" style="display: none;"></div><div style="position: fixed; right: 20px; bottom: 20px; z-index: 2112312321321312321; display: none"></div>

    <!-- GAME OVERLAY (HIDDEN UNTIL CLICKED) -->
    <div id="game-overlay">
        
        <!-- EXPANDING CIRCLE HOME BUTTON -->
        <div id="home-btn" onclick="closeGame()">
            <div class="home-icon">üè†</div>
            <div class="home-text">Home</div>
        </div>

        <!-- The Game Loads Here -->
        <iframe id="game-frame" src=""></iframe>
    </div>

    <script>
        let showOnlyFavorites = false;
        let showOnlyRecentlyPlayed = false;
        let selectedGenre = null;
        let favorites = JSON.parse(localStorage.getItem('gameFavorites')) || {};
        let recentlyPlayed = JSON.parse(localStorage.getItem('gameRecentlyPlayed')) || {};
        const RECENT_DAYS = 30; // Remove games not played in 30 days

        // Clean up old recently played entries
        function cleanupOldRecentlyPlayed() {
            const now = Date.now();
            const thirtyDaysInMs = RECENT_DAYS * 24 * 60 * 60 * 1000;
            
            for (let cardId in recentlyPlayed) {
                const playedTime = recentlyPlayed[cardId];
                const timeSincePlay = now - playedTime;
                
                if (timeSincePlay > thirtyDaysInMs) {
                    delete recentlyPlayed[cardId];
                }
            }
            
            localStorage.setItem('gameRecentlyPlayed', JSON.stringify(recentlyPlayed));
        }

        // Get all unique genres
        function getAllGenres() {
            const genres = new Set();
            const cards = document.querySelectorAll('.game-card');
            cards.forEach(card => {
                const genreElement = card.querySelector('.game-genre, .movie-genre');
                if (genreElement) {
                    genres.add(genreElement.textContent.trim());
                }
            });
            return Array.from(genres).sort();
        }

        // Initialize genre filter buttons
        function initializeGenreFilters() {
            const genres = getAllGenres();
            const filterContainer = document.getElementById('genreFilterButtons');
            
            // Add "All Genres" button
            const allBtn = document.createElement('button');
            allBtn.className = 'genre-tag all-genres active';
            allBtn.textContent = 'All Genres';
            allBtn.onclick = () => selectGenre(null);
            filterContainer.appendChild(allBtn);
            
            // Add genre buttons
            genres.forEach(genre => {
                const btn = document.createElement('button');
                btn.className = 'genre-tag';
                btn.textContent = genre;
                btn.onclick = () => selectGenre(genre);
                btn.setAttribute('data-genre', genre);
                filterContainer.appendChild(btn);
            });
        }

        // Select a genre
        function selectGenre(genre) {
            selectedGenre = genre;
            
            // Update button states
            document.querySelectorAll('.genre-tag').forEach(btn => {
                btn.classList.remove('active');
                if (genre === null && btn.classList.contains('all-genres')) {
                    btn.classList.add('active');
                } else if (genre !== null && btn.getAttribute('data-genre') === genre) {
                    btn.classList.add('active');
                }
            });
            
            filterGames();
        }

        // Initialize favorites on page load
        function initializeFavorites() {
            cleanupOldRecentlyPlayed(); // Clean up old entries first
            initializeGenreFilters(); // Initialize genre filter buttons
            const cards = document.querySelectorAll('.game-card');
            cards.forEach((card, index) => {
                const cardId = 'card-' + index;
                card.setAttribute('data-card-id', cardId);
                
                // Create and add favorite button
                const favoriteBtn = document.createElement('button');
                favoriteBtn.className = 'favorite-btn';
                favoriteBtn.setAttribute('data-card-id', cardId);
                favoriteBtn.innerHTML = favorites[cardId] ? '‚≠ê' : '‚òÜ';
                favoriteBtn.onclick = function(e) {
                    e.stopPropagation();
                    toggleFavorite(cardId, favoriteBtn);
                };
                
                if (favorites[cardId]) {
                    favoriteBtn.classList.add('favorited');
                }
                
                // Add button to card
                const cardImgContainer = card.querySelector('.card-img-container');
                if (cardImgContainer) {
                    cardImgContainer.appendChild(favoriteBtn);
                }
            });
            
            updateFavoriteCount();
            updateRecentCount();
        }

        // Toggle favorite status
        function toggleFavorite(cardId, buttonElement) {
            if (favorites[cardId]) {
                delete favorites[cardId];
                buttonElement.innerHTML = '‚òÜ';
                buttonElement.classList.remove('favorited');
            } else {
                favorites[cardId] = true;
                buttonElement.innerHTML = '‚≠ê';
                buttonElement.classList.add('favorited');
            }
            
            localStorage.setItem('gameFavorites', JSON.stringify(favorites));
            updateFavoriteCount();
            filterGames(); // Reapply filters
        }

        // Update favorite count display
        function updateFavoriteCount() {
            const count = Object.keys(favorites).length;
            document.getElementById('favoriteCount').textContent = count;
        }

        // Toggle show only favorites
        function toggleShowOnlyFavorites() {
            showOnlyFavorites = !showOnlyFavorites;
            showOnlyRecentlyPlayed = false; // Turn off recently played filter
            const btn = document.getElementById('favoritesFilterBtn');
            const recentBtn = document.getElementById('recentlyPlayedFilterBtn');
            
            if (showOnlyFavorites) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
            recentBtn.classList.remove('active');
            
            filterGames();
        }

        // Toggle show only recently played
        function toggleShowOnlyRecentlyPlayed() {
            showOnlyRecentlyPlayed = !showOnlyRecentlyPlayed;
            showOnlyFavorites = false; // Turn off favorites filter
            const btn = document.getElementById('recentlyPlayedFilterBtn');
            const favBtn = document.getElementById('favoritesFilterBtn');
            
            if (showOnlyRecentlyPlayed) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
            favBtn.classList.remove('active');
            
            filterGames();
        }

        // Track recently played
        function trackGameAsPlayed(cardId) {
            if (cardId) {
                recentlyPlayed[cardId] = Date.now();
                localStorage.setItem('gameRecentlyPlayed', JSON.stringify(recentlyPlayed));
                updateRecentCount();
            }
        }

        // Update recent count display
        function updateRecentCount() {
            const count = Object.keys(recentlyPlayed).length;
            document.getElementById('recentCount').textContent = count;
        }

        let lastClickTarget = null;
        document.addEventListener('click', function(e) {
            lastClickTarget = e.target;
        }, true);

        // Open Game Function
        function openGame(url) {
            var overlay = document.getElementById("game-overlay");
            var frame = document.getElementById("game-frame");
            var dashboard = document.getElementById("main-dashboard");

            // Get the card that was clicked
            const clickEvent = (typeof event !== 'undefined') ? event : null;
            const clickTarget = (clickEvent && clickEvent.target) ? clickEvent.target : lastClickTarget;
            const clickedCard = clickTarget ? clickTarget.closest('.game-card') : null;
            if (clickedCard) {
                const cardId = clickedCard.getAttribute('data-card-id');
                trackGameAsPlayed(cardId);
            }

            // Set the iframe source to the game file
            frame.src = url;

            // Hide Dashboard, Show Overlay
            dashboard.style.display = "none";
            overlay.style.display = "flex";
        }

        // Close Game Function
        function closeGame() {
            var overlay = document.getElementById("game-overlay");
            var frame = document.getElementById("game-frame");
            var dashboard = document.getElementById("main-dashboard");

            // Clear the source to stop game/music
            frame.src = "";

            // Hide Overlay, Show Dashboard
            overlay.style.display = "none";
            dashboard.style.display = "block";
        }

        // Launch Blank Page Function - Opens modal
        function launchBlankPage() {
            // Close settings menu first
            const settingsMenu = document.getElementById('settingsMenu');
            if (settingsMenu) {
                settingsMenu.classList.remove('show');
            }
            
            // Open the modal
            const modal = document.getElementById('blankPageModal');
            if (modal) {
                modal.classList.add('active');
                document.getElementById('blankPageUrl').value = '';
                document.getElementById('blankPageHtml').value = '';
            }
        }

        // Close Blank Page Modal
        function closeBlankPageModal() {
            document.getElementById('blankPageModal').classList.remove('active');
        }

        // Switch between URL and HTML tabs
        function switchBlankPageTab(tab) {
            // Update tab buttons
            document.querySelectorAll('.blank-page-tab').forEach(t => t.classList.remove('active'));
            const targetTab = document.querySelector(`.blank-page-tab[data-tab="${tab}"]`);
            if (targetTab) {
                targetTab.classList.add('active');
            }

            // Update tab content
            document.querySelectorAll('.blank-page-tab-content').forEach(c => c.classList.remove('active'));
            if (tab === 'url') {
                document.getElementById('urlTab').classList.add('active');
            } else {
                document.getElementById('htmlTab').classList.add('active');
            }
        }

        // Launch blank page with URL or HTML content
        function launchBlankPageWithContent() {
            const urlInput = document.getElementById('blankPageUrl').value.trim();
            const htmlInput = document.getElementById('blankPageHtml').value.trim();
            const activeTab = document.querySelector('.blank-page-tab.active');
            
            if (activeTab.textContent.includes('URL')) {
                // Launch URL in about:blank with iframe
                if (!urlInput) {
                    alert('Please enter a URL');
                    return;
                }
                
                // Add https:// if no protocol is specified
                let url = urlInput;
                if (!url.match(/^https?:\/\//)) {
                    url = 'https://' + url;
                }
                
                // Open about:blank
                const blankWindow = window.open('about:blank');
                if (blankWindow) {
                    try {
                        // Create iframe HTML
                        const iframeHtml = '<!DOCTYPE html><html><head><style>*{margin:0;padding:0;}body{width:100%;height:100vh;overflow:hidden;}iframe{width:100%;height:100%;border:none;}</style></head><body><iframe src="' + url + '"></iframe></body></html>';
                        blankWindow.document.write(iframeHtml);
                        blankWindow.document.close();
                    } catch(e) {
                        alert('Error opening page: ' + e.message);
                    }
                }
            } else {
                // Launch HTML code
                if (!htmlInput) {
                    alert('Please enter HTML code');
                    return;
                }
                
                // Open about:blank and write HTML content to it
                const blankWindow = window.open('about:blank');
                if (blankWindow) {
                    try {
                        blankWindow.document.open();
                        blankWindow.document.write(htmlInput);
                        blankWindow.document.close();
                    } catch(e) {
                        alert('Error writing HTML to page: ' + e.message);
                    }
                }
            }
            
            // Close modal on successful launch
            closeBlankPageModal();
        }

        // Enhanced Search Function with Favorites and Recently Played Filters
        // Enhanced Search Function with Favorites, Recently Played, and Genre Filters
        function filterGames() {
            var input = document.getElementById("searchInput");
            var filter = input.value.toUpperCase();
            var cards = document.getElementsByClassName("game-card");

            for (var i = 0; i < cards.length; i++) {
                var title = cards[i].querySelector(".game-title");
                var txtValue = title.textContent || title.innerText;
                var cardId = cards[i].getAttribute('data-card-id');
                var isFavorited = favorites[cardId];
                var isRecentlyPlayed = recentlyPlayed[cardId];
                
                // Get card genre
                var genreElement = cards[i].querySelector(".game-genre, .movie-genre");
                var cardGenre = genreElement ? genreElement.textContent.trim() : '';
                
                // Check if matches search
                var matchesSearch = txtValue.toUpperCase().indexOf(filter) > -1;
                
                // Check if should show based on filters
                var shouldShow = true;
                if (showOnlyFavorites && !isFavorited) {
                    shouldShow = false;
                }
                if (showOnlyRecentlyPlayed && !isRecentlyPlayed) {
                    shouldShow = false;
                }
                if (selectedGenre !== null && cardGenre !== selectedGenre) {
                    shouldShow = false;
                }
                
                // Show card only if it matches all criteria
                if (matchesSearch && shouldShow) {
                    cards[i].style.display = "flex";
                } else {
                    cards[i].style.display = "none";
                }
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initializeFavorites);
        
        // Also initialize after a short delay to ensure DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeFavorites);
        } else {
            initializeFavorites();
        }

        // ===== SITE VISITOR TRACKING =====
        function trackSiteVisitor() {
            const fingerprint = generateDeviceFingerprint();
            const deviceInfo = {
                fingerprint,
                userAgent: navigator.userAgent,
                screenRes: `${window.innerWidth}x${window.innerHeight}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                language: navigator.language
            };

            fetch('/api/track-visitor', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(deviceInfo)
            }).catch(err => console.log('Visitor tracking:', err));
        }

        function generateDeviceFingerprint() {
            const crypto = window.crypto || window.msCrypto;
            const userAgent = navigator.userAgent;
            const screenRes = `${window.innerWidth}x${window.innerHeight}`;
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const language = navigator.language;
            
            // Simple SHA256-like hash on client for fingerprint (will be recalculated server-side)
            const data = `${userAgent}|${screenRes}|${timezone}|${language}`;
            let hash = 0;
            for (let i = 0; i < data.length; i++) {
                const char = data.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash).toString(16).padStart(16, '0');
        }

        // Track visitor on page load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', trackSiteVisitor);
        } else {
            trackSiteVisitor();
        }

        // ===== SETTINGS MENU FUNCTIONS =====
        const DEFAULT_TITLE = 'Math Engine';
        const DEFAULT_FAVICON = '/images/favicon.png';
        const DEFAULT_SAFETY_URL = 'https://classroom.google.com/';
        const DEFAULT_SAFETY_LABEL = 'Safety Key';
        const DEFAULT_SAFETY_SHORTCUT = 'F8';

        // Toggle settings menu
        function toggleSettingsMenu() {
            const menu = document.getElementById('settingsMenu');
            menu.classList.toggle('show');
            
            // Load current settings when opening
            if (menu.classList.contains('show')) {
                loadCurrentSettings();
            }
        }

        // Close settings menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('settingsMenu');
            const btn = document.getElementById('admin-access-btn');
            if (menu && btn && !menu.contains(event.target) && !btn.contains(event.target)) {
                menu.classList.remove('show');
            }
            
            // Close blank page modal when clicking outside
            const blankPageModal = document.getElementById('blankPageModal');
            const blankPageContent = document.querySelector('.blank-page-content');
            if (blankPageModal && blankPageContent && blankPageModal.classList.contains('active') && !blankPageContent.contains(event.target)) {
                closeBlankPageModal();
            }
        });

        // Load current settings into inputs
        function loadCurrentSettings() {
            const savedTitle = localStorage.getItem('cloakTitle') || DEFAULT_TITLE;
            const savedFavicon = localStorage.getItem('cloakFavicon') || DEFAULT_FAVICON;
            const savedSafetyLabel = localStorage.getItem('safetyKeyLabel') || DEFAULT_SAFETY_LABEL;
            const savedSafetyUrl = localStorage.getItem('safetyKeyUrl') || DEFAULT_SAFETY_URL;
            const savedSafetyShortcut = localStorage.getItem('safetyKeyShortcut') || DEFAULT_SAFETY_SHORTCUT;
            
            document.getElementById('settingsPageTitle').value = savedTitle;
            document.getElementById('settingsFaviconUrl').value = savedFavicon !== DEFAULT_FAVICON ? savedFavicon : '';
            document.getElementById('safetyKeyLabel').value = savedSafetyLabel !== DEFAULT_SAFETY_LABEL ? savedSafetyLabel : '';
            document.getElementById('safetyKeyUrl').value = savedSafetyUrl !== DEFAULT_SAFETY_URL ? savedSafetyUrl : '';
            document.getElementById('safetyKeyShortcut').value = savedSafetyShortcut;
            updateSafetyKeyButton(savedSafetyLabel);
        }

        // Apply tab cloak settings
        function applyCloakSettings() {
            const title = document.getElementById('settingsPageTitle').value.trim();
            const faviconUrl = document.getElementById('settingsFaviconUrl').value.trim();
            const faviconFile = document.getElementById('settingsFaviconFile').files[0];

            // Update title
            if (title) {
                document.title = title;
                localStorage.setItem('cloakTitle', title);
            }

            // Update favicon from file
            if (faviconFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    updateFavicon(e.target.result);
                    localStorage.setItem('cloakFavicon', e.target.result);
                };
                reader.readAsDataURL(faviconFile);
            }
            // Update favicon from URL
            else if (faviconUrl) {
                updateFavicon(faviconUrl);
                localStorage.setItem('cloakFavicon', faviconUrl);
            }

            // Show success message
            alert('‚úÖ Tab cloak applied successfully!');
            document.getElementById('settingsMenu').classList.remove('show');
        }

        // Reset to default settings
        function resetCloakSettings() {
            document.title = DEFAULT_TITLE;
            updateFavicon(DEFAULT_FAVICON);
            
            localStorage.removeItem('cloakTitle');
            localStorage.removeItem('cloakFavicon');
            
            document.getElementById('settingsPageTitle').value = '';
            document.getElementById('settingsFaviconUrl').value = '';
            document.getElementById('settingsFaviconFile').value = '';
            
            alert('‚úÖ Tab cloak reset to default!');
        }

        // Update favicon helper function
        function updateFavicon(url) {
            let link = document.querySelector("link[rel*='icon']");
            if (!link) {
                link = document.createElement('link');
                link.rel = 'icon';
                document.head.appendChild(link);
            }
            link.href = url;
        }

        function normalizeSafetyUrl(value) {
            if (!value) {
                return DEFAULT_SAFETY_URL;
            }
            try {
                return new URL(value).toString();
            } catch (e) {
                try {
                    return new URL(`https://${value}`).toString();
                } catch (err) {
                    return DEFAULT_SAFETY_URL;
                }
            }
        }

        function updateSafetyKeyButton(label) {
            const btn = document.getElementById('safetyKeyOpenBtn');
            if (!btn) {
                return;
            }
            btn.textContent = label && label.trim() ? label.trim() : DEFAULT_SAFETY_LABEL;
        }

        function saveSafetyKeySettings() {
            const labelInput = document.getElementById('safetyKeyLabel');
            const urlInput = document.getElementById('safetyKeyUrl');
            const shortcutInput = document.getElementById('safetyKeyShortcut');
            const labelValue = labelInput ? labelInput.value.trim() : '';
            const urlValue = urlInput ? urlInput.value.trim() : '';
            const finalUrl = normalizeSafetyUrl(urlValue);
            const shortcutValue = shortcutInput && shortcutInput.value.trim() ? shortcutInput.value.trim() : DEFAULT_SAFETY_SHORTCUT;

            localStorage.setItem('safetyKeyLabel', labelValue || DEFAULT_SAFETY_LABEL);
            localStorage.setItem('safetyKeyUrl', finalUrl);
            localStorage.setItem('safetyKeyShortcut', shortcutValue);
            updateSafetyKeyButton(labelValue);

            if (shortcutInput) {
                shortcutInput.value = shortcutValue;
            }

            alert('‚úÖ Safety key saved!');
        }

        function openSafetyKey() {
            const savedUrl = localStorage.getItem('safetyKeyUrl') || DEFAULT_SAFETY_URL;
            window.location.href = normalizeSafetyUrl(savedUrl);
        }

        // Load saved cloak settings on page load
        window.addEventListener('DOMContentLoaded', function() {
            const savedTitle = localStorage.getItem('cloakTitle');
            const savedFavicon = localStorage.getItem('cloakFavicon');
            const savedSafetyLabel = localStorage.getItem('safetyKeyLabel') || DEFAULT_SAFETY_LABEL;
            const savedSafetyShortcut = localStorage.getItem('safetyKeyShortcut') || DEFAULT_SAFETY_SHORTCUT;
            
            if (savedTitle) {
                document.title = savedTitle;
            }
            if (savedFavicon) {
                updateFavicon(savedFavicon);
            }
            updateSafetyKeyButton(savedSafetyLabel);

            const shortcutInput = document.getElementById('safetyKeyShortcut');
            if (shortcutInput) {
                shortcutInput.value = savedSafetyShortcut;
                shortcutInput.addEventListener('keydown', function(event) {
                    event.preventDefault();
                    const keyName = event.key && event.key.length ? event.key : '';
                    if (!keyName) {
                        return;
                    }
                    const normalizedKey = keyName.length === 1 ? keyName.toUpperCase() : keyName;
                    shortcutInput.value = normalizedKey;
                    localStorage.setItem('safetyKeyShortcut', normalizedKey);
                });
            }
        });

        document.addEventListener('keydown', function(event) {
            const active = document.activeElement;
            if (active && (active.tagName === 'INPUT' || active.tagName === 'TEXTAREA')) {
                return;
            }
            const savedShortcut = localStorage.getItem('safetyKeyShortcut') || DEFAULT_SAFETY_SHORTCUT;
            const pressedKey = event.key && event.key.length ? event.key : '';
            if (!pressedKey) {
                return;
            }
            const normalizedKey = pressedKey.length === 1 ? pressedKey.toUpperCase() : pressedKey;
            if (normalizedKey === savedShortcut) {
                openSafetyKey();
            }
        });

        // ===== ADMIN PANEL FUNCTIONS =====
        const ADMIN_CODE = '0245';
        let adminToken = null;

        function openCodeModal() {
            document.getElementById('settingsMenu').classList.remove('show'); // Close settings menu
            document.getElementById('codeModal').classList.add('active');
            document.getElementById('codeInput').focus();
        }

        function closeCodeModal() {
            document.getElementById('codeModal').classList.remove('active');
            document.getElementById('codeInput').value = '';
            document.getElementById('codeError').textContent = '';
            document.getElementById('codeError').classList.remove('show');
        }

        function verifyCode() {
            const code = document.getElementById('codeInput').value;
            const errorEl = document.getElementById('codeError');

            if (code === ADMIN_CODE) {
                closeCodeModal();
                openAdminPanel();
            } else {
                errorEl.textContent = '‚ùå Incorrect code. Try again.';
                errorEl.classList.add('show');
                document.getElementById('codeInput').value = '';
                setTimeout(() => {
                    errorEl.classList.remove('show');
                }, 3000);
            }
        }

        function openAdminPanel() {
            document.getElementById('settingsMenu').classList.remove('show'); // Close settings menu
            document.getElementById('adminPanel').classList.add('active');
            loadIPBans();
            loadHardwareBans();
            loadSiteVisitors();
        }

        function closeAdminPanel() {
            document.getElementById('adminPanel').classList.remove('active');
        }

        function showAdminError(message) {
            const errorEl = document.getElementById('adminError');
            errorEl.textContent = message;
            errorEl.classList.add('show');
            setTimeout(() => {
                errorEl.classList.remove('show');
            }, 4000);
        }

        function showAdminSuccess(message) {
            const successEl = document.getElementById('adminSuccess');
            successEl.textContent = message;
            successEl.classList.add('show');
            setTimeout(() => {
                successEl.classList.remove('show');
            }, 4000);
        }

        // IP BAN FUNCTIONS
        async function loadIPBans() {
            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch('/api/admin/ip-bans', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (!res.ok) {
                    showAdminError('‚ùå Failed to load IP bans');
                    return;
                }

                const bans = await res.json();
                const list = document.getElementById('ipBanList');

                if (!bans || bans.length === 0) {
                    list.innerHTML = '<div class="admin-empty-state">No banned IPs yet</div>';
                    return;
                }

                list.innerHTML = '';
                bans.forEach(ban => {
                    const item = document.createElement('div');
                    item.className = 'admin-list-item';
                    item.innerHTML = `
                        <div class="admin-list-item-info">
                            <div class="admin-list-item-value">${ban.ip_address}</div>
                            <div class="admin-list-item-reason">Reason: ${ban.reason || 'No reason'}</div>
                        </div>
                    `;
                    const unbanBtn = document.createElement('button');
                    unbanBtn.className = 'admin-action-btn';
                    unbanBtn.textContent = 'Unban';
                    unbanBtn.onclick = () => removeIPBan(ban.ip_address);
                    item.appendChild(unbanBtn);
                    list.appendChild(item);
                });
            } catch (err) {
                showAdminError(`‚ùå Error loading IP bans: ${err.message}`);
            }
        }

        async function addIPBan() {
            const ip = document.getElementById('banIPInput').value.trim();
            const reason = document.getElementById('banIPReason').value.trim();

            if (!ip) {
                showAdminError('‚ùå Please enter an IP address');
                return;
            }

            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch('/api/admin/ip-bans', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ ip, reason: reason || null })
                });

                const data = await res.json();

                if (!res.ok) {
                    showAdminError(`‚ùå ${data.error || 'Failed to ban IP'}`);
                    return;
                }

                showAdminSuccess(`‚úÖ IP ${ip} has been banned!`);
                document.getElementById('banIPInput').value = '';
                document.getElementById('banIPReason').value = '';
                loadIPBans();
            } catch (err) {
                showAdminError(`‚ùå Error: ${err.message}`);
            }
        }

        async function removeIPBan(ip) {
            if (!confirm(`Unban IP ${ip}?`)) return;

            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch(`/api/admin/ip-bans/${ip}`, {
                    method: 'DELETE',
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (!res.ok) {
                    showAdminError('‚ùå Failed to unban IP');
                    return;
                }

                showAdminSuccess(`‚úÖ IP ${ip} has been unbanned!`);
                loadIPBans();
            } catch (err) {
                showAdminError(`‚ùå Error: ${err.message}`);
            }
        }

        // HARDWARE BAN FUNCTIONS
        async function loadHardwareBans() {
            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch('/api/admin/hardware-bans', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (!res.ok) {
                    showAdminError('‚ùå Failed to load hardware bans');
                    return;
                }

                const bans = await res.json();
                const list = document.getElementById('hardwareBanList');

                if (!bans || bans.length === 0) {
                    list.innerHTML = '<div class="admin-empty-state">No banned devices yet</div>';
                    return;
                }

                list.innerHTML = '';
                bans.forEach(ban => {
                    const item = document.createElement('div');
                    item.className = 'admin-list-item';
                    item.innerHTML = `
                        <div class="admin-list-item-info">
                            <div class="admin-list-item-value">${ban.fingerprint.substring(0, 16)}...</div>
                            <div class="admin-list-item-reason">Reason: ${ban.reason || 'No reason'} | Banned: ${new Date(ban.banned_at).toLocaleString()}</div>
                        </div>
                    `;
                    const unbanBtn = document.createElement('button');
                    unbanBtn.className = 'admin-action-btn';
                    unbanBtn.textContent = 'Unban';
                    unbanBtn.onclick = () => removeHardwareBan(ban.fingerprint);
                    item.appendChild(unbanBtn);
                    list.appendChild(item);
                });
            } catch (err) {
                showAdminError(`‚ùå Error loading hardware bans: ${err.message}`);
            }
        }

        async function addHardwareBan() {
            const fingerprint = document.getElementById('banDeviceInput').value.trim();
            const reason = document.getElementById('banDeviceReason').value.trim();

            if (!fingerprint) {
                showAdminError('‚ùå Please enter a device fingerprint');
                return;
            }

            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch('/api/admin/hardware-bans', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ fingerprint, reason: reason || null })
                });

                const data = await res.json();

                if (!res.ok) {
                    showAdminError(`‚ùå ${data.error || 'Failed to ban device'}`);
                    return;
                }

                showAdminSuccess(`‚úÖ Device has been banned!`);
                document.getElementById('banDeviceInput').value = '';
                document.getElementById('banDeviceReason').value = '';
                loadHardwareBans();
            } catch (err) {
                showAdminError(`‚ùå Error: ${err.message}`);
            }
        }

        async function removeHardwareBan(fingerprint) {
            if (!confirm('Unban this device?')) return;

            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch(`/api/admin/hardware-bans/${fingerprint}`, {
                    method: 'DELETE',
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (!res.ok) {
                    showAdminError('‚ùå Failed to unban device');
                    return;
                }

                showAdminSuccess(`‚úÖ Device has been unbanned!`);
                loadHardwareBans();
            } catch (err) {
                showAdminError(`‚ùå Error: ${err.message}`);
            }
        }

        // SITE VISITORS FUNCTIONS
        async function loadSiteVisitors() {
            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch('/api/admin/site-visitors', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (!res.ok) {
                    showAdminError('‚ùå Failed to load site visitors');
                    return;
                }

                const visitors = await res.json();
                const list = document.getElementById('siteVisitorsList');

                if (!visitors || visitors.length === 0) {
                    list.innerHTML = '<div class="admin-empty-state">No visitors yet</div>';
                    return;
                }

                list.innerHTML = '';
                visitors.forEach(visitor => {
                    const item = document.createElement('div');
                    item.className = 'admin-list-item';
                    const visitTime = new Date(visitor.visited_at).toLocaleString();
                    const fpDisplay = visitor.fingerprint ? visitor.fingerprint.substring(0, 12) + '...' : 'N/A';
                    
                    item.innerHTML = `
                        <div class="admin-list-item-info">
                            <div class="admin-list-item-value">üìç IP: ${visitor.ip_address}</div>
                            <div class="admin-list-item-value">üîë FP: ${fpDisplay}</div>
                            <div class="admin-list-item-reason">üñ•Ô∏è ${visitor.screen_res || 'Unknown'} | üåç ${visitor.timezone || 'Unknown'} | üó£Ô∏è ${visitor.language || 'Unknown'}</div>
                            <div class="admin-list-item-reason">‚è±Ô∏è ${visitTime}</div>
                        </div>
                    `;
                    
                    const banIpBtn = document.createElement('button');
                    banIpBtn.className = 'admin-action-btn';
                    banIpBtn.textContent = 'Ban IP';
                    banIpBtn.onclick = () => banVisitorIP(visitor.ip_address);
                    item.appendChild(banIpBtn);
                    
                    if (visitor.fingerprint) {
                        const banHwBtn = document.createElement('button');
                        banHwBtn.className = 'admin-action-btn';
                        banHwBtn.textContent = 'Ban HW';
                        banHwBtn.onclick = () => banVisitorHardware(visitor.fingerprint);
                        item.appendChild(banHwBtn);
                    }
                    
                    list.appendChild(item);
                });
            } catch (err) {
                showAdminError(`‚ùå Error loading visitors: ${err.message}`);
            }
        }
        
        async function banVisitorIP(ip) {
            const reason = prompt(`Ban IP ${ip}?\n\nEnter reason (optional):`);
            if (reason === null) return;
            
            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch('/api/admin/ip-bans', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ ip, reason: reason || null })
                });

                const data = await res.json();

                if (!res.ok) {
                    showAdminError(`‚ùå ${data.error || 'Failed to ban IP'}`);
                    return;
                }

                showAdminSuccess(`‚úÖ IP ${ip} has been banned!`);
                loadIPBans();
                loadSiteVisitors();
            } catch (err) {
                showAdminError(`‚ùå Error: ${err.message}`);
            }
        }
        
        async function banVisitorHardware(fingerprint) {
            const reason = prompt(`Ban device ${fingerprint.substring(0, 12)}...?\n\nEnter reason (optional):`);
            if (reason === null) return;
            
            try {
                const token = localStorage.getItem('mesnap_token');
                if (!token) {
                    showAdminError('‚ùå MESnap authentication required. Please log in first.');
                    return;
                }

                const res = await fetch('/api/admin/hardware-bans', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ fingerprint, reason: reason || null })
                });

                const data = await res.json();

                if (!res.ok) {
                    showAdminError(`‚ùå ${data.error || 'Failed to ban device'}`);
                    return;
                }

                showAdminSuccess(`‚úÖ Device has been banned!`);
                loadHardwareBans();
                loadSiteVisitors();
            } catch (err) {
                showAdminError(`‚ùå Error: ${err.message}`);
            }
        }

        // Allow Enter key to submit code
        document.addEventListener('DOMContentLoaded', function() {
            const codeInput = document.getElementById('codeInput');
            if (codeInput) {
                codeInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') verifyCode();
                });
            }
        });
    </script>


</body>
</html>